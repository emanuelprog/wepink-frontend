<div class="container mt-md-2">
  <div class="container-fluid bg-interno py-3 mt-3 rounded-4">
    <input type="text" placeholder="Pesquise pelo nome do produto" class="form-control mb-3" (input)="filter($event)" />

    <div class="row text-center" *ngIf="filteredProducts.length == 0">
      <h2>Sem produtos para exibir.</h2>
    </div>


    <div class="row mt-3" *ngIf="filteredProducts.length > 0">
      <div class="col-12 mb-3" *ngFor="let product of filteredProducts">
        <div class="card h-100 d-flex flex-row align-items-center shadow-sm p-2">
          <img [src]="getImageSrc(product)" class="card-img-left custom-image" alt="Product image" style="width: 150px; height: auto; object-fit: cover;">

          <div class="card-body d-flex flex-column justify-content-between ms-3">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">Quantidade: {{ product.quantity }}</p>
            <p class="card-text">Última Alteração: {{ product.changeDate | date: 'dd/MM/yyyy HH:mm' }}</p>

            <div class="d-flex gap-2 align-items-center mb-2">
              <input type="number" [(ngModel)]="product.addQuantity" class="form-control form-control-sm" placeholder="Adicionar ao Estoque" />
              <button class="btn btn-success btn-sm" (click)="increaseStock(product)">Atualizar</button>
            </div>

            <div class="d-flex gap-2 align-items-center">
              <input type="number" [(ngModel)]="product.subtractQuantity" class="form-control form-control-sm" placeholder="Diminuir do Estoque" />
              <button class="btn btn-secondary btn-sm" (click)="decreaseStock(product)">Atualizar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
