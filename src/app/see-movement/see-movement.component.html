<div class="container mt-md-2">
  <div class="container-fluid bg-interno py-3 mt-3 rounded-4">
    <div class="row mt-2 justify-content-center">
      <button class="btn btn-success px-4 py-2 col-9 col-md-4 col-lg-3" (click)="fileInput.click()">Importar XML</button>

      <input type="file" #fileInput accept=".xml" style="display: none;" (change)="handleFileInput($event)" />
    </div>

    <input type="text" placeholder="Pesquise pelo nome do produto" class="form-control mt-3" (input)="filter($event)" />

    <div class="row text-center mt-4" *ngIf="filteredProducts.length == 0">
      <h2>Sem produtos para exibir.</h2>
    </div>


    <div class="row mt-3" *ngIf="filteredProducts.length > 0">
      <div class="col-12 mb-3" *ngFor="let product of filteredProducts">
        <div class="card h-100 d-flex flex-row align-items-center shadow-sm p-2">
          <div class="card-body d-flex flex-column justify-content-between ms-3">
            <h5 class="card-title">{{ product.name }}</h5>
            <p class="card-text">Quantidade: {{ product.quantity }}</p>
            <p class="card-text">Quantidade Auditada: {{ product.quantityAudited ? product.quantityAudited : 'S/N' }}</p>
            <p class="card-text" *ngIf="product.quantityAudited" [ngStyle]="{ color: product.quantityAudited == product.quantity ? 'green' : 'red' }">
              Status: {{ product.quantityAudited == product.quantity ? 'SUCESSO' : 'PENDENTE' }}
            </p>
            <div class="d-flex gap-2 align-items-center mb-2">
              <input type="number" [(ngModel)]="product.addQuantityAudited" class="form-control form-control-sm" placeholder="Atualizar Quantidade Auditada" />
              <button class="btn btn-success btn-sm" (click)="quantityAuditedEdit(product)">Atualizar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
